<h1 id="select-from-information-schema">SELECT FROM INFORMATION SCHEMA</h1>

<p>Запрос позволяет получить метаданные объектов <a href="../../../Обзор_понятий_компонентов_и_связей/Основные_понятия/Логическая_схема_данных/Логическая_схема_данных.md">логической схемы</a>, 
описанные в разделе <a href="../../Системные_представления_INFORMATION_SCHEMA/Системные_представления_INFORMATION_SCHEMA.md">Системные представления (INFORMATION_SCHEMA)</a>. 
Возможности запроса отличаются от возможностей <a href="../SELECT/SELECT.md">SELECT</a>-запроса к логическим базам данных.</p>

<p>В ответе возвращается:</p>
<ul>
  <li>объект ResultSet c выбранными записями при успешном выполнении запроса;</li>
  <li>исключение при неуспешном выполнении запроса.</li>
</ul>

<h2 id="синтаксис">Синтаксис</h2>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">SELECT</span> <span class="n">column_list</span> <span class="k">FROM</span> <span class="p">[</span><span class="n">INFORMATION_SCHEMA</span><span class="p">.]</span><span class="n">system_view_name</span> <span class="p">[</span><span class="k">AS</span> <span class="n">alias_name</span><span class="p">]</span>
</code></pre></div></div>

<p>Описание параметров запроса см. <a href="#параметры">ниже</a>.</p>

<p>Префикс <code class="language-sql highlighter-rouge"><span class="n">INFORMATION_SCHEMA</span></code> перед именем системного представления опционален, если до этого был выполнен 
запрос <a href="../USE_INFORMATION_SCHEMA/USE_INFORMATION_SCHEMA.md">USE INFORMATION_SCHEMA</a>. Для имен системных 
представлений и столбцов можно использовать псевдонимы.</p>

<p>В запросе поддерживаются следующие секции, которые должны быть указаны в порядке их перечисления:</p>
<ul>
  <li><code class="language-sql highlighter-rouge"><span class="k">JOIN</span> <span class="k">ON</span></code> — для соединения данных нескольких системных представлений;</li>
  <li><code class="language-sql highlighter-rouge"><span class="k">WHERE</span></code> — для указания условий выбора данных;</li>
  <li><code class="language-sql highlighter-rouge"><span class="k">GROUP</span> <span class="k">BY</span></code> — для группировки данных;</li>
  <li><code class="language-sql highlighter-rouge"><span class="k">ORDER</span> <span class="k">BY</span></code> — для сортировки данных;</li>
  <li><code class="language-sql highlighter-rouge"><span class="k">LIMIT</span></code> — для ограничения количества возвращаемых строк.</li>
</ul>

<p><strong>Внимание:</strong> строковые значения столбцов в секции <code class="language-sql highlighter-rouge"><span class="k">WHERE</span></code> необходимо указывать в верхнем регистре 
(например, <code class="language-sql highlighter-rouge"><span class="k">WHERE</span> <span class="n">table_schema</span> <span class="o">=</span> <span class="s1">'SALES'</span></code>).</p>

<p>Поддерживаются следующие типы соединений системных представлений:</p>
<ul>
  <li><code class="language-sql highlighter-rouge"><span class="p">[</span><span class="k">INNER</span><span class="p">]</span></code> — внутреннее соединение,</li>
  <li><code class="language-sql highlighter-rouge"><span class="k">LEFT</span> <span class="p">[</span><span class="k">OUTER</span><span class="p">]</span></code> — левое внешнее соединение,</li>
  <li><code class="language-sql highlighter-rouge"><span class="k">RIGHT</span> <span class="p">[</span><span class="k">OUTER</span><span class="p">]</span></code> — правое внешнее соединение,</li>
  <li><code class="language-sql highlighter-rouge"><span class="k">FULL</span> <span class="p">[</span><span class="k">OUTER</span><span class="p">]</span></code> — полное внешнее соединение,</li>
  <li><code class="language-sql highlighter-rouge"><span class="k">CROSS</span></code> — декартово произведение, ключи соединения не указываются.</li>
</ul>

<h2 id="параметры">Параметры</h2>

<ul>
  <li><code class="language-sql highlighter-rouge"><span class="n">column_list</span></code> — список выбираемых столбцов. Допустимо указывать символ <code class="language-sql highlighter-rouge"><span class="o">*</span></code> для выбора всех столбцов;</li>
  <li><code class="language-sql highlighter-rouge"><span class="n">system_view_name</span></code> — имя системного представления, из которого запрашивается информация. Возможные 
значения см. в разделе <a href="../../Системные_представления_INFORMATION_SCHEMA/Системные_представления_INFORMATION_SCHEMA.md">Системные представления (INFORMATION_SCHEMA)</a>;</li>
  <li><code class="language-sql highlighter-rouge"><span class="n">alias_name</span></code> — псевдоним системного представления.</li>
</ul>

<h2 id="ограничения">Ограничения</h2>

<p>Не допускается комбинирование подзапросов к <code class="language-sql highlighter-rouge"><span class="n">INFORMATION_SCHEMA</span></code> с подзапросами к логическим базам данных.</p>

<h2 id="примеры">Примеры</h2>

<p>Запрос списка всех <a href="../../../Обзор_понятий_компонентов_и_связей/Основные_понятия/Логическая_база_данных/Логическая_база_данных.md">логических БД</a> 
<a href="../../../Обзор_понятий_компонентов_и_связей/Основные_понятия/Окружение/Окружение.md">окружения</a> 
с лексической сортировкой по возрастанию:</p>
<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">SELECT</span> <span class="k">schema_name</span> <span class="k">FROM</span> <span class="n">INFORMATION_SCHEMA</span><span class="p">.</span><span class="n">schemata</span>
<span class="k">ORDER</span> <span class="k">BY</span> <span class="k">schema_name</span>
</code></pre></div></div>

<p>Запрос информации о логических сущностях логической БД <code class="language-sql highlighter-rouge"><span class="n">SALES</span></code>:</p>
<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">INFORMATION_SCHEMA</span><span class="p">.</span><span class="n">tables</span>
<span class="k">WHERE</span> <span class="n">table_schema</span> <span class="o">=</span> <span class="s1">'SALES'</span>
</code></pre></div></div>

<p>Запрос списка имен, типов и столбцов логических сущностей окружения:</p>
<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">SELECT</span> <span class="n">TC</span><span class="p">.</span><span class="n">table_schema</span><span class="p">,</span> <span class="n">TC</span><span class="p">.</span><span class="k">table_name</span><span class="p">,</span> <span class="n">TT</span><span class="p">.</span><span class="n">table_type</span><span class="p">,</span> <span class="n">TC</span><span class="p">.</span><span class="k">column_name</span>
<span class="k">FROM</span> <span class="n">information_schema</span><span class="p">.</span><span class="n">columns</span> <span class="k">AS</span> <span class="n">TC</span>
<span class="k">JOIN</span> <span class="n">information_schema</span><span class="p">.</span><span class="n">tables</span> <span class="k">AS</span> <span class="n">TT</span>
  <span class="k">ON</span> <span class="n">TC</span><span class="p">.</span><span class="n">table_schema</span> <span class="o">=</span> <span class="n">TT</span><span class="p">.</span><span class="n">table_schema</span> <span class="k">and</span> <span class="n">TC</span><span class="p">.</span><span class="k">table_name</span> <span class="o">=</span> <span class="n">TT</span><span class="p">.</span><span class="k">table_name</span>
<span class="k">ORDER</span> <span class="k">BY</span> <span class="n">TC</span><span class="p">.</span><span class="n">table_schema</span><span class="p">,</span> <span class="n">TC</span><span class="p">.</span><span class="k">table_name</span>
</code></pre></div></div>
